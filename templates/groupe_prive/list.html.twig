{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} | Liste des groupes privés{% endblock %}

{% block body %}
<h1>Liste de mes groupes privés</h1>

<table class="table">
	<thead>
	<tr>
		<th>Nom</th>
		<th>Actions</th>
	</tr>
	</thead>
	<tbody>
	{% if app.user.groupePrives|length %}
	{% for i in 0..app.user.groupePrives|length %}

		<tr class="table-{% if i is even %}info{% else %}secondary{% endif %}">
			{% if i == app.user.groupePrives|length %}

				{{ form_start(form) }}
				<td {% if not form.vars.valid %} class="bg-danger" {% endif %}>{{ form_widget(form.nom) }}</td>
				<td>{{ include('inc/buttons.html.twig', {'isForm': true, 'new': true}) }}</td>
				{{ form_end(form) }}

			{% else %}

				<td>{{ app.user.groupePrives[i].nom }}</td>
				<td>{{ include('inc/buttons.html.twig', {'update':true, 'delete': true, 'id': app.user.groupePrives[i].id, 'type': 'groupe_prive'}) }}</td>

			{% endif %}
		</tr>
	{% endfor %}
	{#        {% for groupe_prive in groupe_prives %} #}
	{#            <tr> #}
	{#                <td>{{ groupe_prive.nom }}</td> #}
	{#                <td> #}
	{#                    <a href="{{ path('groupe_prive_show', {'id': groupe_prive.id}) }}"><button class="btn btn-info">Détails</button></a> #}
	{#                    <a href="{{ path('groupe_prive_edit', {'id': groupe_prive.id}) }}"><button class="btn btn-warning">Modifier</button></a> #}
	{#                </td> #}
	{#            </tr> #}
	{% else %}
		<tr>
			<td colspan="3">Vous n'avez créé aucun groupe privé.</td>
		</tr>
{#	{% endfor %}#}
	{% endif %}
	</tbody>
</table>

<a href="{{ path('groupe_prive_new') }}">
	<button class="btn btn-success">Créer un groupe privé</button>
</a>
{% endblock %}
